{% extends 'base.html' %}

{% block title %}Список экзаменов{% endblock %}

{% block content %}
<div class="header text-center mb-5">
    <h1 class="display-4">Карина Баймухамедова</h1>
    <p class="lead text-muted">Группа 241-671 | Список экзаменов</p>
</div>

{% for exam in exams %}
<div class="card mb-4 shadow-sm">
    <div class="card-header bg-light">
        <h2 class="h4 mb-0">{{ exam.title }}</h2>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-6">
                <ul class="list-unstyled">
                    <li><strong><i class="bi bi-calendar-plus"></i> Создан:</strong> {{ exam.created_at|date:"d.m.Y H:i" }}</li>
                    <li><strong><i class="bi bi-calendar-check"></i> Дата экзамена:</strong> {{ exam.exam_date|date:"d.m.Y" }}</li>
                    <li>
                        <strong><i class="bi bi-people"></i> Студенты:</strong>
                        <ul class="mt-2">
                            {% for user in exam.users.all %}
                            <li>{{ user.get_full_name|default:user.username }}</li>
                            {% endfor %}
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="col-md-6">
                {% if exam.image %}
                <div class="text-center mt-3 mt-md-0">
                    <img src="{{ exam.image.url }}" alt="Задание" class="img-fluid rounded" style="max-height: 200px;">
                    <p class="text-muted mt-2">Изображение задания</p>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% empty %}
<div class="alert alert-info">Нет доступных экзаменов</div>
{% endfor %}
{% endblock %}